---
title: "Análisis del ataque de Pokémons dado sus elementos"
subtitle: "Proyecto Final"
author:
  - Mariangel Arguello
output: pdf_document
date: "Julio de 2024"
fontsize: 12pt
lang: es-Mx
toc: TRUE
bibliography: biblio.bib
csl: apa.csl
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

#llamado de librerias 

library(tidyverse)
library(stringr)
library(stringi)
library(readr)
library(gt) 
library(dplyr)
library(knitr)
library(tinytex)

# Creacion del DataFrame 

# Mariangel

Pokemon_BD <- read_csv("C:/Trabajo final computación/Pokemons G2.csv")

# Limpieza de la base de datos "Pokemon_BD"

# En este punto tomare las columnas que yo necesite para trabajar

Pokemon_BD_Nuevo <- Pokemon_BD %>% select(id, name, rank, generation, type1, 
                                         type2, hp, atk, def, spatk, spdef, 
                                         speed, total, height, weight)

Pokemon_BD_Nuevo <- Pokemon_BD_Nuevo %>% rename( ID = id, Nombre = name,
                                                 Rango = rank, Tipo_1 = type1, 
                                                 Tipo_2 = type2, P_Vida = hp, 
                                                 Ataque = atk, Defensa = def, 
                                                 Ataque_Especial = spatk, 
                                                 Defensa_Especial = spdef, 
                                                 Velocidad = speed, 
                                                 Total = total, Altura = height, 
                                                 Peso = weight, 
                                                 Generación = generation)

# Tipo 1

Pokemon_BD_Nuevo$Tipo_1 <- stri_replace_all_regex(Pokemon_BD_Nuevo$Tipo_1,
                                                  pattern = c("bug","dark","dragon","electric","fairy","fighting","fire","flying","ghost", "grass","ground","normal","poison","psychic","rock","steel","water","ice","None"), 
                                              replacement = c("Bicho","Siniestro","Dragón","Eléctrico","Hada","Lucha","Fuego","Volador","Fantasma","Planta","Tierra","Normal","Veneno","Psíquico","Roca","Acero","Agua","Hielo","Ninguno"),
                                            vectorize_all = FALSE)

# Tipo 2

Pokemon_BD_Nuevo$Tipo_2 <- stri_replace_all_regex(Pokemon_BD_Nuevo$Tipo_2,
                                                   pattern = c("bug","dark","dragon","electric","fairy","fighting","fire","flying","ghost", "grass","ground","normal","poison","psychic","rock","steel","water","ice","None"), 
                                              replacement = c("Bicho","Siniestro","Dragón","Eléctrico","Hada","Lucha","Fuego","Volador","Fantasma","Planta","Tierra","Normal","Veneno","Psíquico","Roca","Acero","Agua","Hielo","Ninguno"),
                                            vectorize_all = FALSE)

# Nombres de los Pokemons

Pokemon_BD_Nuevo$Nombre <- gsub(" ", "",(Pokemon_BD_Nuevo$Nombre %>% 
                                                       toupper() %>% 
                                                     substr(1,1) %>% 
                                   paste(Pokemon_BD_Nuevo$Nombre %>%
                                                       tolower() %>%
                                                        str_sub(2,20))))

Pokemon_BD_Nuevo$Nombre <- stri_replace_all_regex(Pokemon_BD_Nuevo$Nombre,
                                                  pattern = "-",
                                                  replacement = "_",
                                                  vectorize_all = FALSE)
# Generaciones

Pokemon_BD_Nuevo$Generación <- gsub("generation", "Generación", Pokemon_BD_Nuevo$Generación)

Pokemon_BD_Nuevo$Generación <- stri_replace_all_regex(Pokemon_BD_Nuevo$Generación,
                                                      pattern = c("i","v","x","-"),
                                                      replacement = c("I","V","X","_"),
                                                      vectorize_all = FALSE)

```

![logo de la Universidad Central de Venezuela (UCV)](ucv.png)

\pagebreak

## Introducción

En este informe se realizará un studio sobre Pokémons la cual “Es una de las franquicias más grandes e influyentes de Nintendo. Con una historia que abarca más de veinte años, abarca videojuegos y juegos de cartas coleccionables, programas de televisión de anime y películas, una enorme base de fans, entre otros medios.” [@assunccao2017pokemon] para analizar y comparar las cualidades de los Pokemons con respecto a las nueve generaciones dado sus elementos y sus características de ataque; todo esto se llevará acabo de estadísticas descriptivas para posteriormente evaluar todos aquellos valores que dieron como resultados y realizar una óptima, comparación y análisis para su comprensión.

## Planteamiento del problema

En la franquicia de Pokémon cada generación trae nuevos objetos que se incorporan a los existentes o los reemplazan. Así, aparecen nuevas Poké Balls, nuevos artículos en las tiendas, nuevas máquinas técnicas y máquinas ocultas, etc.

De la misma manera el objetivo del juego es llegar a ganar la Liga Pokémon y convertirse en el campeón regional, es decir, convertirse en un maestro Pokémon, capturando, entrenando y evolucionando a estas criaturas para completar el Pokédex, que es un registro electrónico de todos los Pokémon conocidos, clasificando y archivando información tales como su nombres, sus descripciones, estadísticas físicas y especiales de la criatura atrapada o que ven en sus viaje por lo tanto “La historia de Pokémon no es sólo la historia de sus numerosos proyectos mediáticos y las personas que los crean, sino también la historia de sus fans”[@fedje202225].

Dada la información suministrada anteriormente se propone un analisis detallado teniendo en cuenta los elementos más significativos para determinar las características de ataque que describen a todas las generaciones


### Formulación del problema

¿Cuáles son las características de ataque que describen a las 9 generaciones de pokemon, tomando en consideración los elementos más significativos de cada grupo?

### Objetivo general

Analizar y comparar las cualidades de cada una de las generaciones de pokémon, según su elemento principal, y características de ataque

### Objetivos específicos

-   Estudiar las características de cada tipo y generación de los pokemons
-   Clasificar a los pokemons, según su elemento principal, y características de ataque
-   Calcular y comparar las estadísticas descriptivas en cada grupo de pokemon
-   Determinar el elemento más representativo de cada generación de pokémon

## Análisis descriptivo

### Estadísticas descriptivas 

#### Elementos de tipo 1

En la siguiente tabla se muestran las estadísticas descriptivas de todos aquellos pokemons con su respectivo valor de ataque y los elementos correspondiente al tipo 1 que consta de 18 elementos diferentes pokemons del tipo 1 los cuales podemos identificar (Tabla nro. 1) para comenzar de manera generalizada como podemos ver el valor mínimo en cuánto a los puntos por ataque de los 18 elementos diferentes de Pokémon, tipo 1, es de 5 puntos por ataque (elemento Normal) mientras que el valor máximo es de 181 puntos por ataque (elemento Planta). Asimismo el rango de puntos por daño resulta ser intercalado entre todos sus valores al igual que el resultado de sus promedios y coeficientes de variación los cuales representan la evaluación de las variables que le da un contraste significante. Por añadidura de igual manera no presenta una forma de distribución normal gracias a los valores de la kurtosis, la cual contiene todos sus valores con una simetría positiva hacia la derecha con respecto la media

```{r, echo=FALSE}
Pokemon_BD_Nuevo %>% 
  group_by(Tipo_1) %>% 
  summarise(Promedio = mean(Ataque),
            D.Estandar = sd(Ataque),
            Mínimo = min(Ataque),
            Máximo = max(Ataque),
            CV = ( sd(Ataque) / mean(Ataque)) * 100,
            Rango =  max(Ataque) - min(Ataque),
            NºTotal = n())%>% 
  gt(rowname_col = "Tipo_1") %>%
  tab_header(title = "Estadístiscas descriptivas",subtitle = "Los elementos de 1º tipo") %>%
  fmt_number(columns = everything())%>%
  tab_source_note(source_note = md("Tabla nro. 1."))
```

```{r, echo=FALSE}
Pokemon_BD_Nuevo %>% 
  group_by(Tipo_1) %>% 
  summarise(Asimetría = quantile(Ataque, 0.75), 
            Kurtorsis = quantile(Ataque, 1.00))%>% 
  gt(rowname_col = "Tipo_1") %>%
  tab_header(title = "Estadístiscas descriptivas",subtitle = "Los elementos de 1º tipo (2)") %>%
  fmt_number(columns = everything())%>%
  tab_source_note(source_note = md("Tabla nro. 2."))
```

#### Elementos de tipo 2

Consecuentemente en la siguiente tabla (tabla nro. 2.) se presentan todas las estadísticas descriptivas que podemos obtener de las pocas maneras con sus respectivo valor de ataque pero esta vez de los elementos tipo 2 en este caso la muestra consta de 18 pokemones de tipo 2 dentro de los cuáles se observa que se añadió una fila por aquellos valores que no los representan y esta constatado por el valor "Ninguno", de cualquier forma entre nuestras variables tambien podemos obeservar que el valor mínimo en 10 a los puntos por ataques es de 10 puntos por ataque (elemento roca) y su valor máximo es de 181 puntos por ataque (elemento Acero) abarcando un rango un ligeramente menos intercalado a diferencia de los Pokémon elemento tipo 1 con un coeficiente de varianción, promedio y variables contrastadas. No presentan una forma de distribución normal debido a su Kurtosis y al igual que los Pokémons de elementos tipo 1 contienen una asímetria positiva hacia la derecha de la media.


```{r, echo=FALSE}

Pokemon_BD_Nuevo %>% 
  group_by(Tipo_2) %>% 
  summarise(Promedio = mean(Ataque),
            D.Estandar = sd(Ataque),
            Mínimo = min(Ataque),
            Máximo = max(Ataque),
            CV = ( sd(Ataque) / mean(Ataque)) * 100,
            Rango =  max(Ataque) - min(Ataque),
            NºTotal = n())%>% 
  gt(rowname_col = "Tipo_2") %>%
   tab_header(title = "Estadístiscas descriptivas",subtitle = "Los elementos de 2º tipo") %>%
  fmt_number(columns = everything())%>%
  tab_source_note(source_note = md("Tabla nro. 3."))

```

```{r, echo = FALSE}
Pokemon_BD_Nuevo %>% 
  group_by(Tipo_2) %>% 
  summarise(Asimetría = quantile(Ataque, 0.75), 
            Kurtorsis = quantile(Ataque, 1.00))%>% 
  gt(rowname_col = "Tipo_2") %>%
  tab_header(title = "Estadístiscas descriptivas",subtitle = "Los elementos de 2º tipo (2)") %>%
  fmt_number(columns = everything())%>%
  tab_source_note(source_note = md("Tabla nro. 4."))
```

### Gráficos 

#### Elementos de tipo 1

Podemos apreciar que los pokemones con mayor concentración de altos  puntos de ataque son los del tipo Dragón, Lucha y tierra. (gráfico de caja y bigotes nro. 1.) Dónde podemos notar que hay una concentración con pokemones con alrededor de 100 puntos de ataque o más. A la vez que podemos notar que los pokemones de tipo Acero, Hielo, Normal, Planta presentan datos atípicos, con pokemones con un alto nivel de puntos de ataque. Mientras que los del tipo Bicho, Normal y Agua empiezan con un nivel de puntos de ataque bastante bajo. Y de igual forma presentan un dispersión (gráfico de disperción nro. 1.) que cuenta con ciertos datos atipicos como el elemeto Planta que tiene más de 125 puntos de ataques.


```{r, echo= FALSE}

  grafico1 <- ggplot(data = Pokemon_BD_Nuevo, aes(x=Ataque, y=Tipo_1, color = Tipo_1)) + geom_boxplot() +
            labs(title = "Gráfico de caja y bigotes nro. 1.",
                           x = "Ataque", y= "Tipo 1") + scale_colour_viridis_d()


grafico1
  
```

```{r, echo = FALSE}
grafico2 <-ggplot(data = Pokemon_BD_Nuevo, aes(x=Ataque, y=Tipo_1, color = Tipo_1)) + 
          geom_point(size=1) + 
          labs(title = "Gráfico de dispersión nro. 1.",
                 x = "Ataque", y= "Tipo 1") + scale_colour_viridis_d(option = "plasma")

grafico2
```

#### Elementos de tipo 2

 Aquí podemos observar que los pokemons con mayor concentración de altos  puntos de ataque son los del tipo Acero, Lucha otra vez y Electrico. (gráfico de caja y bigotes nro. 2.) Dónde podemos notar que hay una concentración con pokemons con alrededor de 50 puntos de ataque o más. A la vez que podemos notar que los pokemons de tipo Volador presentan datos atípicos, con pokemons con un alto nivel de puntos de ataque. Mientras que los del tipo Dragón empiezan con un nivel de puntos de ataque bastante bajo. Y de igual forma presentan un dispersión (gráfico de disperción nro. 2.) que cuenta con ciertos datos atipicos como el elemento Acero que tiene más de 125 puntos de ataques.


```{r, echo= FALSE}

grafico3 <- ggplot(data = Pokemon_BD_Nuevo, aes(x=Ataque, y=Tipo_2, color = Tipo_2)) + geom_boxplot() +
            labs(title = "Gráfico de caja y bigotes nro. 2.",
                           x = "Ataque", y= "Tipo 2") + scale_colour_viridis_d()


grafico3
  
```


```{r, echo = FALSE}

grafico4 <- ggplot(data = Pokemon_BD_Nuevo, aes(x=Ataque, y=Tipo_2, color = Tipo_2)) + geom_point(size=1) + 
          labs(title = "Gráfico de dispersión nro. 2.",
                 x = "Ataque", y= "Tipo 2") + scale_colour_viridis_d(option = "plasma")


grafico4
```

#### Análisis de las varibles 

Aquí podemos lograr destacar que los gráficos de dispersión 3 y 4 no tienen constan de tanta dispersión, entre sus datos se mantienen en un plano ordenado en terminos de los elementos presentando pocos datos atipicos que varian según su número de tipo.


```{r, echo = FALSE}
grafico6 <-ggplot(data = Pokemon_BD_Nuevo, aes(x=Ataque, y=Generación, color = Tipo_1)) + 
          geom_point(size=1) + 
          labs(title = "Gráfico de dispersión nro. 3.",
                 x = "Ataque", y= "Generación") + scale_colour_viridis_d(option = "plasma")

grafico6
```


```{r, echo = FALSE, fig.height=3.5, fig.width=4}
grafico8 <-ggplot(data = Pokemon_BD_Nuevo, aes(x=Ataque, y=Generación, color = Tipo_2)) + 
          geom_point(size=1) + 
          labs(title = "Gráfico de dispersión nro. 4.",
                 x = "Ataque", y= "Generación") + scale_colour_viridis_d(option = "plasma")

grafico8
```
